<form [formGroup]="formProduct">
  <section class="section-1">
    <h1 class="title">Informacion de tu publicacion</h1>

    <mat-label>Categorias</mat-label>
    <select formControlName="category_id">
      <option  [ngValue]="null" [hidden]="!formProduct.value.category_id" selected>{{!formProduct.value.category_id ? '' : '..'}}</option>
      <option  *ngFor="let category of categories" [ngValue]='category.id'>{{ category.name }}</option>
    </select>
    <div>
      <span *ngIf="formProduct.get('category_id')?.invalid && formProduct.get('category_id')?.touched">
        *Seleccion requerida
      </span>
    </div>

    <mat-label>Producto</mat-label>
      <input matInput formControlName="product_name" >
    <div>
      <span  *ngIf="formProduct.get('product_name')?.invalid && formProduct.get('product_name')?.touched">
      *Seleccion requerida
      </span>
    </div>
    <mat-label  >Describe tu producto</mat-label>
      <textarea  formControlName="description"></textarea>
    <div>
      <span *ngIf="formProduct.get('description')?.invalid && formProduct.get('description')?.touched">
      *Seleccion requerida
      </span>
    </div>
    <mat-label>Â¿Que quieres a Cambio?</mat-label>
      <textarea  formControlName="change_for"></textarea>
    <div>
      <span *ngIf="formProduct.get('change_for')?.invalid && formProduct.get('change_for')?.touched">
      *Seleccion requerida
      </span>
    </div>

    <mat-label >Valor Aproximado</mat-label>
      <input type="number" placeholder="S/." >
    <div>
      <span *ngIf="formProduct.get('price')?.invalid && formProduct.get('price')?.touched">
      *Seleccion requerida
      </span>
    </div>
  </section>
</form>


<section class="section-2">
  <mat-label >Imagenes {{files.length}}/8 - Puedes agregar un maximo de 8 fotos</mat-label>
  <div class="custom-dropzone">
    <ngx-dropzone accept="image/*" (change)="onSelect($event)">
      <ngx-dropzone-label>Subir image </ngx-dropzone-label>
      <ngx-dropzone-image-preview
        ngProjectAs="ngx-dropzone-preview"
        [removable]="true"
        *ngFor="let f of files"
        [file]="f"
        (removed)="onRemove(f)" style="object-fit: fill">
      </ngx-dropzone-image-preview>
    </ngx-dropzone>
  </div>
</section>
